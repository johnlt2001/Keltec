"use strict";
Object.defineProperty(exports, Symbol.toStringTag, { value: "Module" });
const require$$0 = require("react");
const cookie = require("worktop/cookie");
const cartConstants = require("./cart-constants.js");
const cookiesUtils = require("./cookies-utils.js");
const longTermLength = 60 * 60 * 24 * 360 * 1;
const shortTermLength = 60 * 30;
function useShopifyCookies(hasUserConsent = false, domain = "") {
  require$$0.useEffect(() => {
    const cookies = cookiesUtils.getShopifyCookies(document.cookie);
    setCookie(
      cartConstants.SHOPIFY_Y,
      cookies[cartConstants.SHOPIFY_Y] || cookiesUtils.buildUUID(),
      hasUserConsent ? longTermLength : shortTermLength,
      domain
    );
    setCookie(
      cartConstants.SHOPIFY_S,
      cookies[cartConstants.SHOPIFY_S] || cookiesUtils.buildUUID(),
      shortTermLength,
      domain
    );
  });
}
function setCookie(name, value, maxage, domain) {
  document.cookie = cookie.stringify(name, value, {
    maxage,
    domain,
    samesite: "Lax",
    path: "/"
  });
}
exports.useShopifyCookies = useShopifyCookies;
//# sourceMappingURL=useShopifyCookies.js.map
